{
  "version": 2,
  "functions": {
    "api/index.php": {
      "runtime": "vercel-php@0.7.0",
      "maxDuration": 30
    }
  },
  "routes": [
    {
      "src": "/(css|js|images)/(.*)",
      "dest": "/public/$1/$2"
    },
    {
      "src": "/build/(.*)",
      "dest": "/public/build/$1"
    },
    {
      "src": "/favicon.ico",
      "dest": "/public/favicon.ico"
    },
    {
      "src": "/robots.txt",
      "dest": "/public/robots.txt"
    },
    {
      "src": "/(.*)",
      "dest": "/api/index.php"
    }
  ],
  "env": {
    "APP_ENV": "production",
    "APP_DEBUG": "false",
    "LOG_CHANNEL": "stderr",
    "SESSION_DRIVER": "cookie",
    "CACHE_STORE": "array",
    "QUEUE_CONNECTION": "sync"
  },
  "build": {
    "env": {
      "NODE_VERSION": "18",
      "PHP_VERSION": "8.2",
      "COMPOSER_CACHE_DIR": "/tmp/.composer",
      "COMPOSER_PROCESS_TIMEOUT": "600",
      "COMPOSER_MEMORY_LIMIT": "512M"
    }
  },
  "buildCommand": "npm run build",
  "outputDirectory": "public",
  "installCommand": "composer install --no-dev --optimize-autoloader --no-interaction --prefer-dist --no-progress && npm ci"
}